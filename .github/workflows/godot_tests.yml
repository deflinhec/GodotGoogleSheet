name: Run GUT Tests

on:
  push:
    paths-ignore:
      - '**.md'
  pull_request:
    paths-ignore:
      - '**.md'

jobs:
  test-action:
    runs-on: ubuntu-latest
    container:
      image: barichello/godot-ci:latest
    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - name: Configure hostname
      uses: jacobtomlinson/gha-find-replace@master
      with:
        find: "YOUR_GOOGLE_SHEET_API_KEY"
        replace: ${{ secrets.GOOGLE_SHEET_API_KEY }}
        include: "test/unit/test_google_sheet.gd"
    - name: Run Action
      uses: josephbmanley/run-gut-tests-action@v1.1.0
      with:
        useContainer: false 
